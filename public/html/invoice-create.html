
<!-- invoice-create.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Add these in your HTML head section -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Invoice</title>
    <link rel="stylesheet" href="../css/inv.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="js/invoice-create.js"></script>
  </head>
  <body>
    <div class="content">
      <div class="header">
        <button class="toggle-btn" onclick="toggleSidebar()"></button>
        <div class="user-info">
          <span class="user-name"
            >Welcome <span id="username"></span>!!!</span
          >
          <span class="dropdown-icon"></span>
        </div>
<button id="back-to-dashboard">Back to Dashboard</button>

</button>

      </div>

      <div class="box">
        <h3 class="box-header">Create Invoice</h3>
        <form id="invoice-form">
          <!-- Client Select -->
          <div class="form-group">
            <label for="client-select">Client Name</label>
            <select id="client-select" name="client_id" required>
              <option value="">Select Client</option>
            </select>
          </div>

          <!-- GST and Address -->
          <div class="form-row">
            <div class="form-group">
              <label for="client-gst">GST Number:</label>
              <input type="text" id="client-gst" name="client_gst" readonly />
            </div>
            <div class="form-group">
              <label for="client-address">Address:</label>
              <input
                type="text"
                id="client-address"
                name="client_address"
                readonly
              />
            </div>
          </div>

          <!-- Invoice Details -->
          <div class="form-row">
            <div class="form-group">
              <label for="invoice-number">Invoice Number</label>
              <input
                type="text"
                id="invoice-number"
                name="invoice_number"
                required
              />
            </div>
            <div class="form-group">
              <label for="invoice-hsncode">HSN/SAC Code</label>
              <input
                type="text"
                id="invoice-hsncode"
                name="invoice_hsncode"
                value="996713"
                readonly
                required
              />
            </div>
            <div class="form-group">
              <label for="invoice-date">Invoice Date</label>
              <input
                type="date"
                id="invoice-date"
                name="invoice_date"
                required
              />
            </div>
          </div>

          <!-- Invoice Items Table -->
          <table class="data-table" id="invoice-items">
            <thead>
              <tr>
                <th>Sr. No.</th>
                <th>Scheme</th>
                <th>Shipping Bill No.</th>
                <th>Date</th>
                <th>Port</th>
                <th>No of Sbills/ Lic.</th>
                <th>Rate</th>
                <th>Amount</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="invoice-items-body">
              <!-- Rows added dynamically -->
            </tbody>
          </table>

          <!-- Add Item -->
          <button type="button" class="add-item-btn" onclick="addItemRow()">
            <i class="fas fa-plus"></i> Add Item
          </button>

          <!-- Invoice Summary -->
          <div class="invoice-summary">
            <table>
              <tbody>
                <tr>
                  <td class="label">Subtotal:</td>
                  <td class="value">₹ <span id="sub-total">0.00</span></td>
                </tr>
                <tr>
                  <td class="label">CGST (9%):</td>
                  <td class="value">₹ <span id="cgst-amt">0.00</span></td>
                </tr>
                <tr>
                  <td class="label">SGST (9%):</td>
                  <td class="value">₹ <span id="sgst-amt">0.00</span></td>
                </tr>
                <tr>
                  <td class="label">IGST (18%):</td>
                  <td class="value">₹ <span id="igst-amt">0.00</span></td>
                </tr>
                <tr class="grand-total">
                  <td class="label">TOTAL AMOUNT:</td>
                  <td class="value">₹ <span id="total-amount">0.00</span></td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Save Invoice -->
          <button type="submit" id="create-invoice-btn" class="submit-btn">
            <i class="fas fa-save"></i> Save Invoice & Download PDF
          </button>
        </form>
      </div>
    </div>

    <!-- Invoice Template (hidden, used for PDF generation) -->
    <div id="invoice-template" style="display: none">
      <!-- This will be populated dynamically when generating PDF -->
    </div>

    <script src="../js/invoice-create.js"></script>
  </body>
</html> 
